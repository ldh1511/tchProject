(this.webpackJsonptch_pj=this.webpackJsonptch_pj||[]).push([[0],{61:function(e,t,c){},63:function(e,t,c){},95:function(e,t,c){"use strict";c.r(t);var n=c(3),r=c.n(n),a=c(32),s=c.n(a),i=(c(61),c(15)),o=c.n(i),l=c(18),j=(c(63),c(9)),u=c(12),d=c(4),b=c(23),h=c.p+"static/media/logo (2).0b8b85b2.png",O=c.p+"static/media/box.5c1200d3.gif",m=c(0);var p=function(e){var t=Object(d.c)((function(e){return e.cart})),c=Object(d.b)();return Object(m.jsxs)("div",{className:"dropdown-cart",children:[Object(m.jsx)("i",{className:"fas fa-times",onClick:function(){c({type:"CHANGE_STATE_CART"})}}),Object(m.jsx)("ul",{children:0!==t.length?t.map((function(e,t){return Object(m.jsxs)("li",{className:"cart-item",children:[Object(m.jsxs)("div",{className:"cart-item-left",children:[Object(m.jsxs)("div",{className:"number-box",children:[e.amount,"x"]}),Object(m.jsxs)("div",{className:"cart-item-left-info",children:[Object(m.jsx)("h5",{children:e.item[1].name}),Object(m.jsx)("small",{children:e.size[0]})]})]}),Object(m.jsx)("div",{className:"cart-item-right",children:Object(m.jsxs)("span",{children:[e.total," \u0111"]})}),Object(m.jsx)("i",{className:"fas fa-times-circle",onClick:function(){return function(e){console.log(e.item[1].id),c({type:"REMOVE_ITEM",match:e.item[1].id})}(e)}})]},t)})):Object(m.jsxs)("li",{className:"empty-container",children:[Object(m.jsx)("img",{src:O,alt:""}),"B\u1ea1n ch\u01b0a ch\u1ecdn s\u1ea3n ph\u1ea9m n\xe0o !"]})}),0===t.length||Object(m.jsx)(j.b,{to:"/order",children:Object(m.jsx)("div",{className:"dropdown-cart--payment",children:Object(m.jsx)("h4",{children:"Thanh to\xe1n"})})})]})},f=function(e){var t=Object(d.c)((function(e){return e.cart})),c=Object(d.c)((function(e){return e.toggleCart})),r=Object(d.c)((function(e){return e.user})),a=Object(d.c)((function(e){return e.product.menu})),s=Object(n.useRef)(),i=Object(d.b)(),o=function(){b.a.auth().signOut().then((function(){i({type:"USER_LOGOUT"})})).catch((function(e){throw new Error(e)}))};Object(n.useEffect)((function(){s.current.className=!0===a?"menu-active":"menu-hidden"}));var l=function(){i({type:"SET_MENU_ICON"})};return Object(m.jsxs)("header",{ref:s,children:[Object(m.jsx)("i",{className:"fas fa-times header-icon",onClick:l}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{onClick:l,children:Object(m.jsx)(j.b,{to:"/product",children:"s\u1ea3n ph\u1ea9m"})}),Object(m.jsx)("li",{onClick:l,children:Object(m.jsx)(j.b,{to:"/store",children:"c\u1eeda h\xe0ng"})}),Object(m.jsx)("li",{onClick:l,children:Object(m.jsx)(j.b,{to:"/",children:Object(m.jsx)("img",{src:h,className:"header--logo",alt:""})})}),Object(m.jsxs)("li",{children:[Object(m.jsxs)("div",{className:"cart-icon",onClick:function(){i({type:"CHANGE_STATE_CART"})},children:[Object(m.jsx)("div",{className:"cart-number",children:t.length}),Object(m.jsx)("i",{className:"fas fa-shopping-cart"})]}),!0===c?Object(m.jsx)(p,{}):Object(m.jsx)("div",{})]}),r.isLogin?Object(m.jsxs)("li",{className:"user-account",children:[Object(m.jsxs)("div",{className:"user-box",children:[Object(m.jsx)("div",{className:"user-box-img",children:Object(m.jsx)("img",{src:r.photo,alt:""})}),Object(m.jsx)("h3",{children:r.name})]}),Object(m.jsxs)("ul",{className:"user-dropdown-menu",children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("i",{className:"fas fa-user-circle"}),Object(m.jsx)(j.b,{to:"/user",children:"T\xe0i kho\u1ea3n"})]}),Object(m.jsxs)("li",{onClick:o,children:[Object(m.jsx)("i",{className:"fas fa-sign-out-alt"}),"\u0111\u0103ng xu\u1ea5t"]})]})]}):Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:"btn-login",children:Object(m.jsx)(j.b,{to:"/login",children:"\u0111\u0103ng nh\u1eadp"})})})]})]})},x=c.p+"static/media/background.c4b1b9c9.jpg",v=function(e){var t=e.img,c=e.title;console.log(c);var n=Object(d.b)();return Object(m.jsxs)("div",{className:"banner",style:{backgroundImage:"url(".concat(t,")"),backgroundPosition:"center"},children:[Object(m.jsx)("i",{className:"fas fa-bars menu-icon",onClick:function(){n({type:"SET_MENU_ICON"})}}),Object(m.jsxs)("div",{className:"banner-content",children:[Object(m.jsx)("h1",{children:c}),Object(m.jsx)("p",{children:"All you need to feel better is coffee"})]})]})},g=c.p+"static/media/loading.6fead019.gif";var N=function(e){return Object(m.jsx)("div",{className:"loading",children:Object(m.jsx)("img",{alt:"",src:g})})};var y=function(e){return Object(m.jsx)("footer",{children:Object(m.jsxs)("div",{className:"footer-block",children:[Object(m.jsx)("div",{className:"footer-img",children:Object(m.jsx)("img",{alt:"",src:h})}),Object(m.jsxs)("div",{className:"footer-content",children:[Object(m.jsx)("p",{children:"2021 NEXW Company "}),Object(m.jsx)("p",{children:"Developed by LDH"}),Object(m.jsx)("p",{children:"This website is developed for educational purposes"})]})]})})},E=function(e){var t=e.data;console.log(t);var c=Object(d.b)();return Object(m.jsxs)("div",{className:"item",children:[Object(m.jsx)("div",{className:"item-img",children:Object(m.jsx)(j.b,{to:"/item/".concat(t[1].id),children:Object(m.jsx)("img",{src:t[1].link,alt:""})})}),Object(m.jsx)("h4",{children:t[1].name}),Object(m.jsxs)("div",{className:"item-bottom",children:[Object(m.jsxs)("h3",{children:[t[1].price," \u0111"]}),Object(m.jsx)(j.b,{to:"/order",children:Object(m.jsx)("button",{className:"btn",onClick:function(){c({type:"SELECTED"}),c({type:"ADD",payload:t,amount:1,total:t[1].price,size:["S",0]})},children:"Mua ngay"})})]})]})};var T=function(e){var t=Object(d.c)((function(e){return e.product.loading})),c=Object(d.c)((function(e){return e.product.data})),r=Object(d.b)();return Object(n.useEffect)((function(){0!==c.length&&r({type:"SET_LOADING"})}),[c]),Object(m.jsx)(m.Fragment,{children:!0===t?Object(m.jsx)(N,{}):Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{}),Object(m.jsx)(v,{img:x,title:"JIZ'COFFEE"}),Object(m.jsxs)("div",{className:"intro-block",children:[Object(m.jsxs)("div",{className:"intro-content",children:[Object(m.jsx)("h3",{children:"s\u1ea3n ph\u1ea9m"}),Object(m.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nec massa tincidunt, fermentum elit vitae, fermentum nibh. Sed placerat, turpis sit amet ullamcorper mattis, sapien leo finibus eros, at posuere tortor massa ac justo. Duis molestie sem ac neque rutrum, et sodales leo pulvinar. Quisque in augue nec ante facilisis scelerisque."})]}),Object(m.jsxs)("div",{className:"intro-bottom",children:[c.map((function(e,t){if(t<=6)return Object(m.jsx)(E,{data:e},t)})),Object(m.jsx)(j.b,{to:"/product",className:"item intro-btn",children:"Xem th\xeam"})]})]}),Object(m.jsx)("div",{className:"store-intro",children:Object(m.jsxs)("div",{className:"intro-img",children:[Object(m.jsx)("h3",{children:"c\u1eeda h\xe0ng"}),Object(m.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nec massa tincidunt, fermentum elit vitae, fermentum nibh. Sed placerat, turpis sit amet ullamcorper mattis, sapien leo finibus eros, at posuere tortor massa ac justo. Duis molestie sem ac neque rutrum, et sodales leo pulvinar. Quisque in augue nec ante facilisis scelerisque."}),Object(m.jsx)(j.b,{to:"/store",className:"product-more-btn",children:"Xem th\xeam"})]})}),Object(m.jsx)(y,{})]})})},_=c(25),C=c(6),k=c(16),S=c.p+"static/media/store.0a74497e.jpg",A=c(35),I=c.n(A),w=c.p+"static/media/store-location.4f8a070b.gif",D=c.p+"static/media/background3.690b431c.jpg";var L=function(e){var t=Object(n.useState)(),c=Object(k.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(),i=Object(k.a)(s,2),j=i[0],u=i[1],d=Object(n.useState)(),b=Object(k.a)(d,2),h=b[0],O=b[1],p=Object(n.useState)({city:"",district:""}),x=Object(k.a)(p,2),g=x[0],E=x[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("https://api.thecoffeehouse.com/api/get_all_store");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(function(){var t=Object(l.a)(o.a.mark((function t(){var c,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:c=t.sent,a(c),n=c.filter((function(e){return"H\xe0 N\u1ed9i"===e.state_name||"H\u1ed3 Ch\xed Minh"===e.state_name})),r=[],n.map((function(e){r.push(e.state_name)})),r=Array.from(new Set(r)),u(r);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var T=function(e){var t=e.target.name,c=e.target.value;E(Object(C.a)(Object(C.a)({},g),{},Object(_.a)({},t,c)))};return r&&j?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{}),Object(m.jsx)(v,{img:D,title:"c\u1eeda h\xe0ng"}),Object(m.jsxs)("div",{className:"store-container",children:[Object(m.jsx)("div",{className:"store-search",children:Object(m.jsxs)("form",{className:"store-form",children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:" T\u1ec9nh / Th\xe0nh ph\u1ed1"}),Object(m.jsxs)("select",{className:"form-control",name:"city",onChange:function(e){return T(e)},children:[Object(m.jsx)("option",{hidden:!0,value:"default",children:"L\u1ef1a ch\u1ecdn T\u1ec9nh/ Th\xe0nh ph\u1ed1"}),j.map((function(e){return Object(m.jsx)("option",{children:e},e)}))]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Qu\u1eadn / Huy\u1ec7n"}),Object(m.jsxs)("select",{className:"form-control",name:"district",onChange:function(e){return T(e)},children:[Object(m.jsx)("option",{hidden:!0,value:"default",children:"L\u1ef1a ch\u1ecdn Qu\u1eadn/ Huy\u1ec7n"}),function(e){var t=r.filter((function(t){return t.state_name===e})),c=[];return t.map((function(e){c.push(e.district_name)})),(c=Array.from(new Set(c))).map((function(e){return Object(m.jsx)("option",{value:e,children:e})}))}(g.city)]})]}),Object(m.jsx)("button",{onClick:function(e){return function(e){e.preventDefault();var t=r.filter((function(e){return e.state_name===g.city&&e.district_name===g.district}));O(t)}(e)},children:Object(m.jsx)("i",{className:"fas fa-search"})})]})}),Object(m.jsx)("div",{className:"store-block",children:h?h.map((function(e){return Object(m.jsxs)("div",{className:"store-item",children:[Object(m.jsx)("div",{className:"store-item-block",children:Object(m.jsx)("img",{alt:"",src:S})}),Object(m.jsxs)("div",{className:"store-item-block",children:[Object(m.jsx)("h3",{children:e.external_name}),Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("i",{className:"fas fa-map-marker-alt"}),e.address.full_address]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("i",{className:"far fa-calendar-alt"}),e.opening_time," AM - ",e.closing_time," PM"]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("i",{className:"fas fa-phone"}),"123456789"]})]})]})]})})):Object(m.jsx)("div",{className:"loading-store--gif",children:Object(m.jsx)("img",{alt:"",src:w})})})]}),Object(m.jsx)(y,{})]}):Object(m.jsx)(N,{})},M=function(e){var t=Object(d.c)((function(e){return e.product.type})),c=Object(d.b)();if(t){var n=Object.entries(t);return Object(m.jsx)("div",{className:"menu-left",children:Object(m.jsx)("ul",{children:n.map((function(e,t){return Object(m.jsxs)("li",{onClick:function(t){return function(e){c({type:"SET_NAME",payload:e})}(e[1].name)},children:[Object(m.jsx)("i",{className:"fas fa-leaf"}),e[1].name]},t)}))})})}return Object(m.jsx)("div",{})},z=c(36),R=function(e){var t=e.data;if(Object(d.c)((function(e){return e.product.type}))){return Object(m.jsx)("div",{className:"product-box",children:t.map((function(e,t){return!(t<3)||Object(m.jsx)(E,{data:e},t)}))})}return Object(m.jsx)("div",{})};var U=function(e){var t=Object(d.c)((function(e){return e})),c=t.product.data,r=t.product.type,a=t.scroll.scrollName,s=Object(n.useRef)([]);Object(n.useEffect)((function(){for(var e,t=0;t<s.current.length;t++)console.log(s.current[t].children[0].children[0]),s.current[t].children[0].children[0].textContent===a&&(e=t);void 0!==e&&s.current[e].scrollIntoView({block:"end",behavior:"smooth"})}),[a]);var i=function(e){return Object.entries(r).filter((function(t){return t[1].id===e[1][1].type}))[0][1].name};return Object(m.jsx)("div",{className:"product-right",children:function(){var e=[],t=[];return c.map((function(t){return e.push(t[1].type)})),(e=Object(z.a)(new Set(e))).map((function(e){var n=c.filter((function(t){return t[1].type===e}));return t.push(n),n})),t.map((function(e,t){return Object(m.jsxs)("div",{ref:function(e){return s.current[t]=e},className:"product-container",children:[Object(m.jsxs)("div",{className:"product-title",children:[Object(m.jsx)("h3",{children:i(e)}),Object(m.jsx)(j.b,{to:"/category/".concat(e[0][1].type),children:Object(m.jsx)("button",{className:"product-more-btn",children:"Xem th\xeam"})})]}),Object(m.jsx)(R,{data:e})]},t)}))}()})},V=c.p+"static/media/background2.43f622ca.jpg";var P=function(){var e=Object(d.c)((function(e){return e.product.type}));return Object(m.jsx)(m.Fragment,{children:e&&0!==Object.keys(e).length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{}),Object(m.jsx)(v,{img:V,title:"s\u1ea3n ph\u1ea9m"}),Object(m.jsxs)("div",{className:"product",children:[Object(m.jsx)(M,{}),Object(m.jsx)(U,{})]}),Object(m.jsx)(y,{})]}):Object(m.jsx)(N,{})})},G=b.a.initializeApp({apiKey:"AIzaSyDXPLduefu6MLOF9pRsmqhdZJn5mF8PE2w",authDomain:"tcfweb-ef85c.firebaseapp.com",databaseURL:"https://tcfweb-ef85c-default-rtdb.firebaseio.com",projectId:"tcfweb-ef85c",storageBucket:"tcfweb-ef85c.appspot.com",messagingSenderId:"495890483627",appId:"1:495890483627:web:7430e875d125041b4daaee",measurementId:"G-GEF21FLKVM"});var H=function(e){var t=Object(d.c)((function(e){return e.cart})),c=Object(d.c)((function(e){return e.step})),r=Object(d.c)((function(e){return e.paymentInfo})),a=Object(d.c)((function(e){return e.user})),s=Object(d.b)();Object(n.useEffect)((function(e){var n=G.database().ref("bill"),s={items:[],payment:r.payment,time:"",userId:a.userId};if(t.map((function(e){var t={};return t.code=e.item[0],t.amount=e.amount,t.size=e.size[0],t.total=e.total,s.items.push(t),!0})),2===c){var i=new Date;s.time=i.toLocaleString(),n.push(s)}}),[c]);var i=function(){return t.reduce((function(e,t){return e+t.total}),0)};return Object(m.jsxs)("div",{className:"cart",children:[Object(m.jsx)("button",{onClick:function(){s({type:"SET_STEP"})},children:1===c?"\u0111\u1eb7t h\xe0ng":"xem gi\u1ecf h\xe0ng"}),Object(m.jsx)("div",{className:"cart-items",children:t.map((function(e,t){return Object(m.jsxs)("div",{className:"cart-item",onClick:function(t){return function(e){s({type:"MODAL_ACTIVE"}),s({type:"MODAL_GET_ITEM",payload:e.item,amount:e.amount,total:e.total,img:e.item[1].link,size:e.size})}(e)},children:[Object(m.jsxs)("div",{className:"cart-item-left",children:[Object(m.jsx)("div",{className:"number-box",children:e.amount}),Object(m.jsxs)("div",{className:"cart-item-left-info",children:[Object(m.jsx)("h5",{children:e.item[1].name}),Object(m.jsx)("small",{children:e.size[0]})]})]}),Object(m.jsx)("div",{className:"cart-item-right",children:Object(m.jsxs)("span",{children:[e.total," \u0111"]})})]},t)}))}),Object(m.jsxs)("div",{className:"cart-fees",children:[Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{children:[Object(m.jsxs)("p",{children:["C\u1ed9ng (",t.reduce((function(e,t){return e+t.amount}),0)," m\xf3n)"]}),Object(m.jsxs)("span",{children:[i()," \u0111"]})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{children:"V\u1eadn chuy\u1ec3n"}),Object(m.jsx)("span",{children:"0 \u0111"})]})]}),Object(m.jsxs)("div",{className:"discount-box",children:[Object(m.jsx)("input",{type:"text",placeholder:"Nh\u1eadp m\xe3 gi\u1ea3m gi\xe1 t\u1ea1i \u0111\xe2y"}),Object(m.jsx)("button",{children:"\xc1p d\u1ee5ng"})]})]}),Object(m.jsxs)("div",{className:"cart-total",children:[Object(m.jsx)("p",{children:"T\u1ed5ng c\u1ed9ng"}),Object(m.jsxs)("h4",{children:[i()," \u0111"]})]})]})};var F=function(e){var t=Object(d.b)();return Object(m.jsx)("div",{className:"order-search",children:Object(m.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm s\u1ea3n ph\u1ea9m",name:"oder-search",onChange:function(e){return function(e){var c=G.database().ref("product/");""!==e.target.value?c.orderByChild("name").equalTo("".concat(e.target.value)).on("value",(function(e){null!==e.val()&&t({type:"SET_VALUE_SEARCH",value:Object.entries(e.val())})})):t({type:"RESET_VALUE_SEARCH"})}(e)}})})};var q=function(e){var t=e.data,c=Object(d.b)(),n=Object(d.c)((function(e){return e.cart}));return Object(m.jsxs)("div",{className:"order-item",children:[Object(m.jsx)("div",{className:"order-item-image",children:Object(m.jsx)("img",{src:t[1].link,alt:"img"})}),Object(m.jsxs)("div",{className:"order-item-content",children:[Object(m.jsx)("h4",{children:t[1].name}),Object(m.jsx)("p",{children:t[1].description}),Object(m.jsxs)("div",{className:"item-content-bottom",children:[Object(m.jsxs)("span",{children:[t[1].price," \u0111"]}),Object(m.jsx)("div",{className:"select-icon",onClick:function(){c({type:"MODAL_ACTIVE"});var e=n.filter((function(e){return e.item[0]===t[0]}));0!==e.length?c({type:"MODAL_GET_ITEM",payload:e[0].item,amount:e[0].amount,total:e[0].total,img:e[0].item[1].link,size:e[0].size}):c({type:"MODAL_SET_ITEM",payload:t})},children:Object(m.jsx)("i",{className:"fas fa-plus"})})]})]})]})};var X=function(e){var t=Object(d.c)((function(e){return e.product}));return Object(m.jsx)("div",{className:"order-items",children:0!==t.value.length?t.value.map((function(e,t){return Object(m.jsx)(q,{data:e},t)})):t.data.map((function(e,t){return Object(m.jsx)(q,{data:e},t)}))})};var B=function(e){return Object(m.jsxs)("div",{className:"order-main",children:[Object(m.jsx)(F,{}),Object(m.jsx)(X,{})]})};var Y=function(e){var t=Object(d.c)((function(e){return e.product.type}));if(t){var c=Object.entries(t);return Object(m.jsx)("div",{className:"order-menu",children:Object(m.jsx)("ul",{children:c.map((function(e,t){return Object(m.jsx)("li",{children:e[1].name},t)}))})})}return Object(m.jsx)("div",{})};var Z=function(e){return Object(m.jsxs)("div",{className:"order-left",children:[Object(m.jsx)(Y,{}),Object(m.jsx)(B,{})]})};var W=function(e){var t=Object(d.c)((function(e){return e.modal})),c=Object(d.c)((function(e){return e.product.data})),n=t.item[1],r=Object(d.b)();return Object(m.jsxs)("div",{className:"modal",children:[Object(m.jsxs)("div",{className:"modal-item",children:[Object(m.jsx)("div",{className:"modal-image",children:Object(m.jsx)("img",{src:t.img,alt:"true"})}),Object(m.jsxs)("div",{className:"modal-info",children:[Object(m.jsx)("h4",{children:n.name}),Object(m.jsx)("small",{children:"Nh\u1ecf"})]}),Object(m.jsx)("div",{className:"modal-btn",onClick:function(){r({type:"MODAL_ACTIVE"})},children:Object(m.jsx)("i",{className:"fas fa-times"})}),Object(m.jsx)("div",{className:"modal-title",children:Object(m.jsx)("h3",{children:n.name})})]}),Object(m.jsxs)("div",{className:"modal-type",children:[Object(m.jsx)("h4",{children:"Size"}),Object(m.jsx)("div",{className:"form-check-container",children:Object.entries(c.filter((function(e){return e[0]===t.item[0]}))[0][1].size).reverse().map((function(e,c){return Object(m.jsxs)("div",{className:"form-check",children:[Object(m.jsx)("input",{type:"checkbox",className:"form-check-input",name:e[0],onClick:function(){return function(e){r({type:"CHANGE_SIZE",payload:e})}(e)},defaultValue:"checkedValue",checked:e[0]===t.size[0]}),e[0]," ",0!==e[1]?"(+"+e[1]+"\u0111 )":""]},c)}))})]}),Object(m.jsx)("div",{className:"modal-note",children:Object(m.jsx)("input",{type:"text",className:"form-control",name:"note",placeholder:"Th\xeam ghi ch\xfa m\xf3n n\xe0y"})}),Object(m.jsxs)("div",{className:"modal-bottom",children:[Object(m.jsxs)("div",{className:"modal-amount",children:[Object(m.jsx)("div",{onClick:function(){var e=t.amount+1;r({type:"CHANGE_AMOUNT",payload:e})},children:"+"}),Object(m.jsx)("div",{className:"amount",children:t.amount}),Object(m.jsx)("div",{onClick:function(){if(t.amount>0){var e=t.amount-1;r({type:"CHANGE_AMOUNT",payload:e})}},children:"-"})]}),Object(m.jsxs)("button",{onClick:function(){r({type:"ADD",payload:t.item,amount:t.amount,total:t.total,size:t.size}),r({type:"MODAL_ACTIVE"})},children:["Th\xeam v\xe0o gi\u1ecf",Object(m.jsxs)("span",{children:[t.total," \u0111"]})]})]})]})},J=c.p+"static/media/finish.349242ac.gif";var K=function(e){var t=Object(d.b)(),c=function(){t({type:"SET_STEP"}),t({type:"SET_EMPTY"})};return Object(m.jsxs)("div",{className:"popup",children:[Object(m.jsxs)("div",{className:"popup-top",children:[Object(m.jsx)("img",{alt:"",src:J}),Object(m.jsx)("h1",{children:"\u0110\u1eb7t h\xe0ng th\xe0nh c\xf4ng!"})]}),Object(m.jsxs)("div",{className:"btn-container",children:[Object(m.jsx)(j.b,{to:"/",children:Object(m.jsx)("button",{onClick:c,children:"Trang ch\u1ee7"})}),Object(m.jsx)(j.b,{to:"/user/orders",children:Object(m.jsx)("button",{onClick:c,children:"H\xf3a \u0111\u01a1n"})})]})]})};var Q=function(e){var t=Object(d.c)((function(e){return e.step})),c=Object(d.c)((function(e){return e.modal.active}));return Object(m.jsxs)("div",{className:"popup-container",children:[function(){if(2===t)return Object(m.jsx)(K,{})}(),function(){if(!0===c)return Object(m.jsx)(W,{})}()]})};var $=function(e){var t=Object(d.c)((function(e){return e.modal.active}));return Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{}),Object(m.jsxs)("div",{className:"order-body",children:[Object(m.jsx)(Z,{}),Object(m.jsx)(H,{})]}),function(){if(!0===t)return Object(m.jsx)(Q,{})}(),Object(m.jsx)(y,{})]})};var ee=function(e){return Object(m.jsxs)("header",{className:"order-header",children:[Object(m.jsx)("div",{className:"order-logo",children:Object(m.jsx)("img",{src:h,alt:"true"})}),Object(m.jsxs)("div",{className:"login-area",children:[Object(m.jsx)("button",{children:Object(m.jsx)(j.b,{to:"/login",children:"\u0111\u0103ng nh\u1eadp"})}),Object(m.jsxs)("div",{className:"cart-icon",children:[Object(m.jsx)("div",{className:"cart-number",children:"1"}),Object(m.jsx)("i",{className:"fas fa-shopping-cart"})]})]})]})},te=I.a.create({baseURL:"https://vapi.vnappmob.com/api",headers:{"content-type":"application/json"}});te.interceptors.request.use(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),te.interceptors.response.use((function(e){return e&&e.data?e.data:e}),(function(e){throw e}));var ce=te,ne={getAllCity:function(){return ce.get("/province/")},getAllDistrict:function(e){var t="province/district/".concat(e);return ce.get(t)},getAllWard:function(e){var t="province/ward/".concat(e);return ce.get(t)}};var re=function(e){var t=Object(d.c)((function(e){return e.user})),c=Object(d.c)((function(e){return e.paymentInfo.payment})),r=Object(d.c)((function(e){return e.addrData.province})),a=Object(n.useState)(),s=Object(k.a)(a,2),i=s[0],u=s[1],b=Object(n.useState)(),h=Object(k.a)(b,2),O=h[0],p=h[1],f=Object(n.useState)(),x=Object(k.a)(f,2),v=x[0],g=x[1];return Object(n.useEffect)((function(){r&&function(){var e=r.filter((function(e){return e.province_id===t.province}));console.log(e),u(e[0].province_name)}()}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.getAllDistrict(t.province);case 3:c=e.sent,n=c.results.filter((function(e){return e.district_id===t.district})),p(n[0].district_name),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();t.province&&r&&e()}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.getAllWard(t.district);case 3:c=e.sent,n=c.results.filter((function(e){return e.ward_id===t.ward})),g(n[0].ward_name),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();t.district&&e()}),[]),Object(m.jsx)("div",{className:"payment-box",children:Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"payment-top payment-content",children:[Object(m.jsx)("h3",{children:"X\xe1c nh\u1eadn th\xf4ng tin \u0111\u01a1n h\xe0ng"}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"\u0110\u1ecba ch\u1ec9 giao h\xe0ng"}),Object(m.jsx)("input",{value:t.specificAddr+", "+v+", "+O+", "+i,disabled:!0,type:"text",className:"form-control",name:"address","aria-describedby":"helpId"}),Object(m.jsx)(j.b,{to:"/user/address",children:Object(m.jsx)("button",{className:"user-btn",children:Object(m.jsx)("i",{className:"fas fa-edit"})})})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"T\xean ng\u01b0\u1eddi nh\u1eadn"}),Object(m.jsx)("input",{disabled:!0,value:t.name,type:"text",className:"form-control",name:"name","aria-describedby":"helpId"}),Object(m.jsx)(j.b,{to:"/user/address",children:Object(m.jsx)("button",{className:"user-btn",children:Object(m.jsx)("i",{className:"fas fa-edit"})})})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object(m.jsx)("input",{disabled:!0,value:t.phone,type:"text",className:"form-check-input",name:"phonenumber","aria-describedby":"helpId"}),Object(m.jsx)(j.b,{to:"/user/address",children:Object(m.jsx)("button",{className:"user-btn",children:Object(m.jsx)("i",{className:"fas fa-edit"})})})]})]}),Object(m.jsxs)("div",{className:"payment-bottom payment-content",children:[Object(m.jsx)("h3",{children:"H\xecnh th\u1ee9c thanh to\xe1n"}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("input",{disabled:!0,type:"text",className:"form-check-input",name:c,value:"cod"===c?"Than to\xe1n khi nh\u1eadn h\xe0ng":"".concat(c),checked:!0}),Object(m.jsx)(j.b,{to:"/user/payment",children:Object(m.jsx)("button",{className:"user-btn",children:Object(m.jsx)("i",{className:"fas fa-edit"})})})]})]})]})})};var ae=function(e){var t=Object(d.c)((function(e){return e.step}));return Object(n.useEffect)((function(){console.log("tesses gcehan")}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)(ee,{}),Object(m.jsxs)("div",{className:"order-body",children:[Object(m.jsx)(re,{}),Object(m.jsx)(H,{}),function(){if(2===t)return Object(m.jsx)(Q,{})}()]}),Object(m.jsx)(y,{})]})},se=c.p+"static/media/cart-checkout.e1017934.gif";var ie=function(e){var t=e.match,c=Object.entries(t[0][1].size),r=Object(d.b)(),a=Object(d.c)((function(e){return e.itemSelected})),s=Object(d.c)((function(e){return e.product.data})),i=Object(d.c)((function(e){return e.cart})),o=Object(n.useRef)([]),l=Object(n.useRef)();console.log(t[0][1].id);var j=function(){return s.filter((function(e){return e[1].type===t[0][1].type&&e[1].id!==t[0][1].id})).map((function(e,t){return Object(m.jsx)(E,{data:e},t)}))};return Object(n.useEffect)((function(){for(var e,t=0;t<o.current.length;t++)t===a.loc&&(e=t);void 0!==e&&o.current[e].scrollIntoView({block:"end",behavior:"smooth"}),j()}),[a.loc]),Object(n.useEffect)((function(){}),[i.length]),Object(m.jsxs)("div",{className:"item-pages-right",children:[Object(m.jsxs)("div",{className:"item-pages-right-box",ref:function(e){return o.current[0]=e},children:[Object(m.jsx)("h1",{children:t[0][1].name}),Object(m.jsx)("p",{children:t[0][1].description}),Object(m.jsxs)("div",{className:"item-pages-block",children:[Object(m.jsx)("h4",{children:"S\u1ed1 l\u01b0\u1ee3ng"}),Object(m.jsx)("input",{className:"form-control",name:"quantity",type:"number",value:a.amount,onChange:function(e){return function(e){r({type:"CHANGE_AMOUNT_ITEM",amount:parseInt(e.target.value),price:t[0][1].price})}(e)}})]}),Object(m.jsxs)("div",{className:"item-pages-block",children:[Object(m.jsx)("h4",{children:"Size"}),Object(m.jsx)("div",{className:"form-size",children:c.map((function(e,c){return Object(m.jsxs)("div",{className:"form-check",children:[Object(m.jsx)("input",{type:"checkbox",className:"form-check-input",name:e[0],value:"checkedValue",onClick:function(){return function(e){r({type:"CHANGE_SIZE_ITEM",item:t[0],total:(t[0][1].price+parseInt(e[1]))*parseInt(a.amount),size:e})}(e)},checked:e[0]===a.size[0]}),"".concat(e[0]," (+").concat(e[1]," \u0111)")]},c)}))})]}),Object(m.jsx)("div",{className:"item-pages-block",children:Object(m.jsxs)("h3",{children:[a.total," \u0111"]})}),Object(m.jsxs)("div",{className:"item-pages-btn-container",children:[Object(m.jsx)("button",{className:"item-pages--btn",onClick:function(){r({type:"ADD",payload:t[0],amount:a.amount,total:a.total,size:a.size}),l.current.className="active"},children:"Th\xeam v\xe0o gi\u1ecf h\xe0ng"}),Object(m.jsx)("img",{alt:"",src:se,ref:l})]})]}),Object(m.jsxs)("div",{className:"item-pages-right-box",ref:function(e){return o.current[1]=e},children:[Object(m.jsx)("h1",{children:"S\u1ef1 m\u1ed9c m\u1ea1c tr\u1edf th\xe0nh d\u1ea5u \u1ea5n Vi\u1ec7t"}),Object(m.jsx)("p",{children:"Khi ng\u01b0\u1eddi Ph\xe1p \u0111em v\u0103n h\xf3a c\xe0 ph\xea v\xe0o Vi\u1ec7t Nam, ng\u01b0\u1eddi b\u1ea3n x\u1ee9 thay th\u1ebf s\u1eefa t\u01b0\u01a1i \u0111\u1eaft \u0111\u1ecf b\u1eb1ng s\u1eefa \u0111\u1eb7c r\u1ebb ti\u1ec1n h\u01a1n \u0111\u1ec3 pha c\xf9ng c\xe0 ph\xea. Tuy nhi\xean vi\u1ec7c l\xe0m n\xe0y v\xf4 t\xecnh khi\u1ebfn k\u1ebft c\u1ea5u c\u1ee7a ly c\xe0 ph\xea s\xe1nh \u0111\u1eb7c v\xe0 \u0111\u1eadm \u0111\xe0 h\u01a1n. D\u1ea7n d\xe0, ly c\xe0-ph\xea-s\u1eefa-\u0111\u1eb7c \u0111\u1eadm v\u1ecb quen thu\u1ed9c v\u1edbi n\u1ebfp s\u1ed1ng ng\u01b0\u1eddi Vi\u1ec7t tr\u1edf th\xe0nh m\u1ed9t n\xe9t s\xe1ng t\u1ea1o ri\xeang, chinh ph\u1ee5c \u0111\u01b0\u1ee3c tr\xe1i tim h\xe0ng tri\u1ec7u ng\u01b0\u1eddi y\xeau c\xe0 ph\xea tr\xean th\u1ebf gi\u1edbi. Ch\u1eb1ng c\xf3 c\xe1ch n\xe0o m\xf4 t\u1ea3 ch\xednh x\xe1c \u0111\u01b0\u1ee3c m\xf9i v\u1ecb c\u1ee7a C\xe0 ph\xea s\u1eefa Vi\u1ec7t Nam h\u01a1n vi\u1ec7c t\u1ef1 m\xecnh nh\u1ea5m nh\xe1p."}),Object(m.jsxs)("small",{children:["Ng\u1ee5m \u0111\u1ea7u ti\xean, v\u1ecb ng\u1ecdt th\u1ea5m v\xe0o \u0111\u1ea7u l\u01b0\u1ee1i. Sau \u0111\xf3 r\xfat \u0111i, \u0111\u1ec3 l\u1ea1i v\u1ecb \u0111\u1eafng thanh tho\xe1t. ",Object(m.jsx)("br",{}),"Ng\u1ee5m th\u1ee9 hai, v\xe0 b\u1ea5t ch\u1ee3t b\u1ea1n c\u1ea3m th\u1ea5y m\u1ecdi th\u1ee9 tr\xean \u0111\u1eddi n\xe0y \u0111\u1ec1u \u1ed5n c\u1ea3."]})]}),Object(m.jsxs)("div",{className:"item-pages-right-box",ref:function(e){return o.current[2]=e},children:[Object(m.jsx)("h1",{children:"C\xf3 th\u1ec3 b\u1ea1n s\u1ebd th\xedch"}),Object(m.jsx)("div",{className:"related-box",children:j()})]})]})};var oe=function(e){var t=Object(d.c)((function(e){return e.product.data})),c=Object(d.b)(),r=e.location.pathname;r=r.split("/");var a=t.filter((function(e){return e[1].id===parseInt(r[r.length-1])}));return Object(n.useEffect)((function(){c({type:"SELECT_ITEM",item:a[0],total:a[0][1].price,size:Object.entries(a[0][1].size).reverse()[0]})}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{}),Object(m.jsx)("div",{className:"item-pages",children:Object(m.jsxs)("div",{className:"item-pages-container",children:[Object(m.jsx)("div",{className:"item-pages-left",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("img",{src:a[0][1].link,alt:""})}),Object(m.jsx)("li",{children:Object(m.jsx)("img",{src:a[0][1].link,alt:""})}),Object(m.jsx)("li",{children:Object(m.jsx)("img",{src:a[0][1].link,alt:""})})]})}),Object(m.jsx)("div",{className:"item-pages-center",children:Object(m.jsxs)("ul",{children:[["\u0110\u1eb7t ngay","Gi\u1edbi thi\u1ec7u","Li\xean quan"].map((function(e,t){return Object(m.jsx)("li",{onClick:function(){return function(e){c({type:"CHANGE_LOCATION_ITEM",loc:e})}(t)},children:e},t)})),Object(m.jsx)("i",{className:"fas fa-bars menu-icon",onClick:function(){c({type:"SET_MENU_ICON"})}})]})}),Object(m.jsx)(ie,{match:a})]})})]})};var le=function(e){var t=Object(d.c)((function(e){return e.product.data})),c=Object(d.c)((function(e){return e.product.type})),r=Object(n.useState)(""),a=Object(k.a)(r,2),s=a[0],i=a[1],o=e.location.pathname;o=o.split("/");var l=t.filter((function(e){return e[1].type===o[o.length-1]})),u=Object(n.useState)(l),b=Object(k.a)(u,2),h=b[0],O=b[1],p=function(){return Object.entries(c).filter((function(e){return e[1].id===l[0][1].type}))[0][1].name};return Object(n.useEffect)((function(){""!==s&&O(s)}),[s]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{}),Object(m.jsx)("div",{className:"category",children:Object(m.jsxs)("div",{className:"category-block",children:[Object(m.jsxs)("div",{className:"category-block-top",children:[Object(m.jsx)("h1",{children:p()}),Object(m.jsx)("div",{className:"category-title-back",children:Object(m.jsx)("h2",{children:p()})})]}),Object(m.jsxs)("div",{className:"category-block-middle",children:[Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/product",className:"li-Nav",children:"s\u1ea3n ph\u1ea9m"})}),Object(m.jsx)("li",{children:Object(m.jsx)("i",{className:"fas fa-angle-double-right"})}),Object(m.jsx)("li",{children:p()})]}),Object(m.jsxs)("select",{className:"sort-box",onClick:function(e){return function(e){var t;"up"===e.target.value&&(t=l.sort((function(e,t){return e[1].price-t[1].price}))),"down"===e.target.value&&(t=l.sort((function(e,t){return t[1].price-e[1].price}))),i(t)}(e)},children:[Object(m.jsx)("option",{value:"up",children:"Gi\xe1 t\u0103ng d\u1ea7n"}),Object(m.jsx)("option",{value:"down",children:"Gi\xe1 gi\u1ea3m d\u1ea7n"})]})]}),Object(m.jsx)("div",{className:"category-block-bottom",children:h.map((function(e,t){return Object(m.jsx)(E,{data:e},t)}))})]})}),Object(m.jsx)(y,{})]})},je=c(55),ue=c.n(je),de={signInFlow:"popup",signInSuccessUrl:"/tchProject/#/product",signInOptions:[b.a.auth.GoogleAuthProvider.PROVIDER_ID]};var be=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{}),Object(m.jsxs)("div",{className:"login",children:[Object(m.jsx)("h1",{children:"\u0110\u0103ng nh\u1eadp"}),Object(m.jsx)(ue.a,{uiConfig:de,firebaseAuth:b.a.auth()})]})]})},he=c.p+"static/media/checked.6f298cca.png";var Oe=function(){var e=Object(d.c)((function(e){return e.step})),t=Object(d.b)(),c=function(){t({type:"SET_ACTIVE_NOTI"})};return Object(m.jsx)("div",{className:"popup-container",children:Object(m.jsxs)("div",{className:"popup popup-user",children:[Object(m.jsx)("div",{className:"popup-top",children:Object(m.jsx)("h1",{children:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng !"})}),Object(m.jsx)("div",{className:"popup-user--img",children:Object(m.jsx)("img",{alt:"",src:he})}),Object(m.jsx)("div",{className:"btn-container",children:1===e?Object(m.jsx)(j.b,{to:"/payment",children:Object(m.jsx)("button",{onClick:c,children:"Ti\u1ebfp t\u1ee5c"})}):Object(m.jsx)("button",{onClick:c,children:"OK"})})]})})};var me=function(e){var t=Object(d.c)((function(e){return e.addrData})),c=Object(d.c)((function(e){return e.user})),r=Object(d.c)((function(e){return e.product.active_noti})),a=Object(d.b)(),s=Object(n.useState)({province:c.province,district:c.district,ward:c.ward,specificAddr:c.specificAddr,phone:c.phone}),i=Object(k.a)(s,2),j=i[0],u=i[1],b=function(e){var t=e.target.name,c=e.target.value;u(Object(C.a)(Object(C.a)({},j),{},Object(_.a)({},t,c)))};return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.getAllDistrict(j.province);case 3:t=e.sent,a({type:"SET_DISTRICT",districts:t.results}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();""!==j.province&&e()}),[j.province]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.getAllWard(j.district);case 3:t=e.sent,a({type:"SET_WARD",ward:t.results}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();""!==j.district&&e()}),[j.district]),Object(m.jsxs)("div",{className:"user-info",children:[Object(m.jsx)("h3",{children:"\u0111\u1ecba ch\u1ec9 nh\u1eadn h\xe0ng"}),Object(m.jsxs)("form",{className:"user-addr-form",children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"T\u1ec9nh / Th\xe0nh ph\u1ed1"}),Object(m.jsx)("select",{className:"form-control",name:"province",onChange:function(e){return b(e)},value:j.province,children:t.province.map((function(e,t){return Object(m.jsx)("option",{value:e.province_id,children:e.province_name},t)}))})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Qu\u1eadn / Huy\u1ec7n / Th\u1ecb x\xe3"}),Object(m.jsx)("select",{className:"form-control",name:"district",onChange:function(e){return b(e)},value:j.district,children:t.districts.map((function(e,t){return Object(m.jsx)("option",{value:e.district_id,children:e.district_name},t)}))})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Ph\u01b0\u1eddng / X\xe3"}),Object(m.jsx)("select",{className:"form-control",name:"ward",onChange:function(e){return b(e)},value:j.ward,children:t.ward.map((function(e,t){return Object(m.jsx)("option",{value:e.ward_id,children:e.ward_name},t)}))})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"\u0110\u1ecba ch\u1ec9 c\u1ee5 th\u1ec3"}),Object(m.jsx)("input",{type:"text",className:"form-control",name:"specificAddr","aria-describedby":"helpId",placeholder:"S\u1ed1 nh\xe0 / th\xf4n / x\xf3m",value:j.specificAddr,onChange:function(e){return b(e)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object(m.jsx)("input",{type:"text",className:"form-control",name:"phone","aria-describedby":"helpId",value:j.phone,onChange:function(e){return b(e)}})]}),Object(m.jsx)("button",{className:"user-btn",onClick:function(e){return function(e){e.preventDefault();var t,n=G.database().ref("users");n.orderByChild("userId").equalTo("".concat(c.userId)).on("value",(function(e){t=Object.keys(e.val())[0]})),n.child(t).update({province:j.province,district:j.district,ward:j.ward,specificAddr:j.specificAddr,phone:j.phone}),a({type:"UPDATE_INFO",province:j.province,district:j.district,ward:j.ward,specificAddr:j.specificAddr,phone:j.phone}),a({type:"SET_ACTIVE_NOTI"})}(e)},children:"C\u1eadp nh\u1eadt"})]}),function(){if(!0===r)return Object(m.jsx)(Oe,{})}()]})};var pe=function(e){var t=G.database().ref("bill"),c=Object(d.c)((function(e){return e.user})),r=Object(d.c)((function(e){return e.product.data})),a=Object(n.useState)(),s=Object(k.a)(a,2),i=s[0],o=s[1];Object(n.useEffect)((function(){t.orderByChild("userId").equalTo("".concat(c.userId)).on("value",(function(e){var t=e.val();t=Object.keys(t).map((function(e){return[String(e),t[e]]})),o(t)}))}),[]);var l=function(e){return e[1].items.reduce((function(e,t){return e+t.total}),0)},j=function(e){return e.map((function(e){return Object(m.jsxs)("div",{className:"cart-item",children:[Object(m.jsxs)("div",{className:"cart-item-left",children:[Object(m.jsx)("div",{className:"number-box",children:e.amount}),Object(m.jsxs)("div",{className:"cart-item-left-info",children:[Object(m.jsx)("h5",{children:(t=e.code,r.filter((function(e){return e[0]===t}))[0][1].name)}),Object(m.jsx)("small",{children:e.size})]})]}),Object(m.jsx)("div",{className:"cart-item-right",children:Object(m.jsxs)("span",{children:[e.total," \u0111"]})})]});var t}))};return Object(m.jsxs)("div",{className:"user-info",children:[Object(m.jsx)("h3",{children:"\u0111\u01a1n h\xe0ng c\u1ee7a t\xf4i"}),Object(m.jsx)("div",{className:"user-orders",children:Object(m.jsx)("ul",{children:function(e){if(e)return e.map((function(e){return Object(m.jsxs)("li",{children:[Object(m.jsxs)("div",{className:"user-orders-top",children:[Object(m.jsxs)("div",{className:"user-orders-box",children:[Object(m.jsx)("i",{className:"fas fa-file-invoice"}),e[0]]}),Object(m.jsxs)("div",{className:"user-orders-box",children:[Object(m.jsx)("span",{children:"\u0111ang giao"}),Object(m.jsx)("i",{className:"fas fa-sort-down"})]})]}),Object(m.jsxs)("div",{className:"user-orders-bottom",children:[Object(m.jsxs)("h4",{children:["Th\u1eddi gian \u0111\u1eb7t h\xe0ng : ",Object(m.jsx)("span",{children:e[1].time})," "]}),Object(m.jsxs)("h4",{children:["Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n:",Object(m.jsx)("span",{children:"cod"===e[1].payment?"Thanh to\xe1n khi nh\u1eadn h\xe0ng":"".concat(e[1].payment)})]}),Object(m.jsxs)("div",{className:"user-orders-detail",children:[Object(m.jsx)("div",{className:"cart-items",children:j(e[1].items)}),Object(m.jsx)("div",{className:"cart-fees",children:Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{children:"T\u1ed5ng ti\u1ec1n"}),Object(m.jsxs)("span",{children:[l(e)," \u0111"]})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{children:"M\xe3 gi\u1ea3m gi\xe1"}),Object(m.jsx)("span",{children:"null"})]})]})}),Object(m.jsxs)("div",{className:"cart-total",children:[Object(m.jsx)("p",{children:"T\u1ed5ng c\u1ed9ng"}),Object(m.jsxs)("h4",{children:[l(e)," \u0111"]})]})]})]})]})}))}(i)})})]})};var fe=function(e){var t=Object(d.b)(),c=["cod","atm","zalopay","visa","momo","airpay"],r=Object(d.c)((function(e){return e.paymentInfo.payment})),a=Object(n.useState)({payment:r}),s=Object(k.a)(a,2),i=s[0],o=s[1],l=Object(d.c)((function(e){return e.user})),j=Object(d.c)((function(e){return e.product.active_noti}));return Object(m.jsxs)("div",{className:"user-info",children:[Object(m.jsx)("h3",{children:"H\xecnh th\u1ee9c thanh to\xe1n"}),Object(m.jsx)("div",{className:"payment-choices",children:Object(m.jsx)("div",{className:"form-check",children:c.map((function(e){return Object(m.jsxs)("label",{className:"form-check-label",children:[Object(m.jsx)("input",{onChange:function(e){return function(e){var t=e.target.name;o({payment:t})}(e)},type:"radio",className:"form-check-input",name:e,defaultValue:e,checked:i.payment==="".concat(e)}),"cod"===e?"Thanh to\xe1n khi nh\u1eadn h\xe0ng":"".concat(e)]})}))})}),Object(m.jsx)("button",{className:"user-btn",onClick:function(e){return function(e){e.preventDefault(),t({type:"SET_PAYMENTINFO",name:"payment",value:i.payment});var c,n=G.database().ref("users");n.orderByChild("userId").equalTo("".concat(l.userId)).on("value",(function(e){c=Object.keys(e.val())[0]})),n.child(c).update({payment:i.payment}),t({type:"SET_ACTIVE_NOTI"})}(e)},children:"C\u1eadp nh\u1eadt"}),function(){if(!0===j)return Object(m.jsx)(Oe,{})}()]})};var xe=function(e){var t=Object(d.c)((function(e){return e.user})),c=Object(d.b)();return!0===t.isLogin?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{}),Object(m.jsxs)("div",{className:"user-container",children:[Object(m.jsx)("i",{className:"fas fa-bars menu-icon",onClick:function(){c({type:"SET_MENU_ICON"})}}),Object(m.jsx)("h1",{children:"T\xe0i kho\u1ea3n c\xe1 nh\xe2n"}),Object(m.jsxs)("div",{className:"user-container-bottom",children:[Object(m.jsx)("div",{className:"user-category",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsxs)(j.b,{to:"/user/address",children:[Object(m.jsx)("i",{className:"fas fa-map-marker-alt"}),"\u0110\u1ecba ch\u1ec9 nh\u1eadn h\xe0ng"]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(j.b,{to:"/user/payment",children:[Object(m.jsx)("i",{className:"fas fa-money-check-alt"}),"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(j.b,{to:"/user/orders",children:[Object(m.jsx)("i",{className:"fas fa-file-invoice"}),"\u0110\u01a1n h\xe0ng c\u1ee7a t\xf4i"]})})]})}),Object(m.jsxs)(u.d,{children:[Object(m.jsx)(u.b,{path:"/user/address",component:me}),Object(m.jsx)(u.b,{path:"/user/payment",component:fe}),Object(m.jsx)(u.b,{path:"/user/orders",component:pe})]})]})]}),Object(m.jsx)(y,{})]}):Object(m.jsx)(u.a,{to:"/"})};b.a.apps.length?b.a.app():b.a.initializeApp({apiKey:"AIzaSyDXPLduefu6MLOF9pRsmqhdZJn5mF8PE2w",authDomain:"tcfweb-ef85c.firebaseapp.com"});var ve=function(e){var t=Object(d.c)((function(e){return e.step})),c=Object(d.c)((function(e){return e.user})),r=Object(d.b)();return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.getAllCity();case 3:t=e.sent,r({type:"SET_CITY",province:t.results}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){3===t&&(r({type:"RESET_STEP"}),r({type:"SELECTED"})),G.database().ref("product/").on("value",(function(e){r({type:"SET_PRODUCT",payload:Object.entries(e.val())})})),G.database().ref("classify/").on("value",(function(e){r({type:"SET_TYPE",payload:e.val()})}))}),[t]),Object(n.useEffect)((function(){var e=b.a.auth().onAuthStateChanged(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:G.database().ref("users").orderByChild("userId").equalTo("".concat(t.uid)).on("value",(function(e){if(null===e.val()){var c={userId:t.uid,name:t.displayName,photo:t.photoURL,province:"",district:"",ward:"",specificAddr:"",phone:"",payment:""};G.database().ref("users").push(c)}else{var n=Object.keys(e.val())[0],a=e.val()["".concat(n)];r({type:"UPDATE_INFO",province:a.province,district:a.district,ward:a.ward,specificAddr:a.specificAddr,phone:a.phone})}})),r({type:"USER_LOGIN",isLogin:!0,name:t.displayName,photo:t.photoURL,userId:t.uid});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[]),Object(m.jsx)(j.a,{children:Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(u.d,{children:[Object(m.jsx)(u.b,{exact:!0,path:"/",component:function(){return Object(m.jsx)(T,{})}}),Object(m.jsx)(u.b,{path:"/store",component:function(){return Object(m.jsx)(L,{})}}),Object(m.jsx)(u.b,{exact:!0,path:"/product",component:function(){return Object(m.jsx)(P,{})}}),Object(m.jsx)(u.b,{path:"/order",component:function(){return 0===t?Object(m.jsx)($,{}):Object(m.jsx)(u.a,{to:"/payment"})}}),Object(m.jsx)(u.b,{exact:!0,path:"/payment",component:function(){return!0===c.isLogin?Object(m.jsx)(ae,{}):Object(m.jsx)(u.a,{to:"/login"})}}),Object(m.jsx)(u.b,{path:"/category",component:le}),Object(m.jsx)(u.b,{path:"/item",component:oe}),Object(m.jsx)(u.b,{path:"/login",component:be}),Object(m.jsx)(u.b,{path:"/user",component:xe})]})})})},ge=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,96)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))},Ne=c(29),ye={province:"",districts:[],ward:[]},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CITY":return Object(C.a)(Object(C.a)({},e),{},{province:t.province});case"SET_DISTRICT":return Object(C.a)(Object(C.a)({},e),{},{districts:t.districts});case"SET_WARD":return Object(C.a)(Object(C.a)({},e),{},{ward:t.ward});default:return e}},Te=[],_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":var c;e.map((function(e,n){return e.item[0]===t.payload[0]&&e.size[0]===t.size[0]&&(c=n,!0)}));var n={item:t.payload,amount:t.amount,total:t.total,size:t.size};if(void 0!==c){var r=e;return r[c].amount=n.amount,r[c].total=n.total,r[c].size=n.size,r}return[].concat(Object(z.a)(e),[n]);case"REMOVE_ITEM":var a=e.filter((function(e){return e.item[1].id!==t.match}));return a;case"SET_EMPTY":return[];default:return e}},Ce={size:["S",0],amount:1,total:0,loc:0},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_ITEM":case"CHANGE_SIZE_ITEM":return Object(C.a)(Object(C.a)({},e),{},{item:t.item,total:t.total,size:t.size});case"CHANGE_AMOUNT_ITEM":return Object(C.a)(Object(C.a)({},e),{},{amount:t.amount,total:t.amount*t.price});case"CHANGE_LOCATION_ITEM":return Object(C.a)(Object(C.a)({},e),{},{loc:t.loc});default:return e}},Se={active:!1},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL_ACTIVE":var c=!e.active;return Object(C.a)(Object(C.a)({},e),{},{active:c});case"MODAL_SET_ITEM":var n=t.payload,r=1,a=n[1].price,s=Object.entries(n[1].size);return Object(C.a)(Object(C.a)({},e),{},{item:n,amount:r,total:a,size:s[s.length-1],img:n[1].link});case"MODAL_GET_ITEM":var i=t.payload;return Object(C.a)(Object(C.a)({},e),{},{item:i,amount:t.amount,total:t.total,img:t.img,size:t.size});case"CHANGE_AMOUNT":var o=t.payload,l=(e.item[1].price+e.size[1])*o;return Object(C.a)(Object(C.a)({},e),{},{amount:o,total:l});case"CHANGE_SIZE":var j=t.payload,u=(e.item[1].price+j[1])*e.amount;return Object(C.a)(Object(C.a)({},e),{},{size:j,total:u});default:return e}},Ie={payment:"cod",note:""},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAYMENTINFO":var c=t.name,n=t.value;return Object(C.a)(Object(C.a)({},e),{},Object(_.a)({},c,n));default:return e}},De={data:[],active:!1,selected:!1,loading:!0,active_noti:!1,menu:!1,value:[]},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCT":console.log("test");var c=t.payload;return Object(C.a)(Object(C.a)({},e),{},{data:c});case"SET_VALUE_SEARCH":var n=t.value;return Object(C.a)(Object(C.a)({},e),{},{value:n});case"RESET_VALUE_SEARCH":return Object(C.a)(Object(C.a)({},e),{},{value:[]});case"SET_TYPE":var r=e,a=t.payload;return Object(C.a)(Object(C.a)({},r),{},{type:a});case"SET_ACTIVE":var s=!e.active;return Object(C.a)(Object(C.a)({},e),{},{active:s});case"SELECTED":return Object(C.a)(Object(C.a)({},e),{},{selected:!e.selected});case"SET_LOADING":return Object(C.a)(Object(C.a)({},e),{},{loading:!1});case"SET_LOADING_TRUE":return Object(C.a)(Object(C.a)({},e),{},{loading:!0});case"SET_ACTIVE_NOTI":return Object(C.a)(Object(C.a)({},e),{},{active_noti:!e.active_noti});case"SET_MENU_ICON":return Object(C.a)(Object(C.a)({},e),{},{menu:!e.menu});default:return e}},Me={},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NAME":var c=t.payload;return{scrollName:c};default:return e}},Re={searchInfo:{search:""},searchValue:[]},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE":return Object(C.a)(Object(C.a)({},e),{},{searchInfo:Object(C.a)(Object(C.a)({},e.searchInfo),{},Object(_.a)({},t.name,t.payload))});case"SET_VALUE":var c=t.payload;return 0===e.searchInfo.search.length&&(c=e.product),Object(C.a)(Object(C.a)({},e),{},{searchValue:c});default:return e}},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STEP":var c=e+1;return c;case"RESET_STEP":return 0;default:return e}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_STATE_CART":return!e;default:return e}},Ge={isLogin:!1,name:"",photo:"",userId:"",province:"",district:"",ward:"",specificAddr:"",phone:""},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return Object(C.a)(Object(C.a)({},e),{},{isLogin:t.isLogin,name:t.name,photo:t.photo,userId:t.userId});case"USER_LOGOUT":var c={isLogin:!1,name:"",photo:"",userId:""};return c;case"UPDATE_INFO":return Object(C.a)(Object(C.a)({},e),{},{province:t.province,district:t.district,ward:t.ward,specificAddr:t.specificAddr,phone:t.phone});default:return e}},Fe=Object(Ne.b)({product:Le,search:Ue,cart:_e,modal:Ae,step:Ve,paymentInfo:we,scroll:ze,itemSelected:ke,toggleCart:Pe,user:He,addrData:Ee}),qe=Object(Ne.c)(Fe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(m.jsx)(d.a,{store:qe,children:Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(ve,{})})}),document.getElementById("root")),ge()}},[[95,1,2]]]);
//# sourceMappingURL=main.bb5bfb15.chunk.js.map